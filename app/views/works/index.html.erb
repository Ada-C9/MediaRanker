<main>
  <h2>List of works</h2>
  <section>
    <h3>Albums</h3>
    <table>
      <thead>
        <tr>
          <th>Votes</th>
          <th>Title</th>
          <th>Created by</th>
          <th>Published</th>
          <th>Upvote</th>
        </tr>
      </thead>
      <tbody>
        <% @works.where(category: :album).each do |work| %>
        <tr>
          <td><%= work.votes.count %></td>
          <td><%= link_to "#{work.title}", work_path(work) %></td>
          <td><%= work.creator %></td>
          <td><%= work.publication_year %></td>
          <td><%= link_to "Upvote", work_upvote_path(work), method: :post, class: "button" %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </section>

  <section>
    <h3>Books</h3>
    <table>
      <thead>
        <tr>
          <th>Votes</th>
          <th>Title</th>
          <th>Created by</th>
          <th>Published</th>
          <th>Upvote</th>
        </tr>
      </thead>
      <tbody>
        <% @works.where(category: :book).each do |work| %>
        <tr>
          <td><%= work.votes.count %></td>
          <td><%= link_to "#{work.title}", work_path(work) %></td>
          <td><%= work.creator %></td>
          <td><%= work.publication_year %></td>
          <td><%= link_to "Upvote", work_upvote_path(work), method: :post, class: "button" %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </section>

  <section>
    <h3>Movies</h3>
    <table>
      <thead>
        <tr>
          <th>Votes</th>
          <th>Title</th>
          <th>Created by</th>
          <th>Published</th>
          <th>Upvote</th>
        </tr>
      </thead>
      <tbody>
        <% @works.where(category: :movie).each do |work| %>
        <tr>
          <td><%= work.votes.count %></td>
          <td><%= link_to "#{work.title}", work_path(work) %></td>
          <td><%= work.creator %></td>
          <td><%= work.publication_year %></td>
          <td><%= link_to "Upvote", work_upvote_path(work), method: :post, class: "button" %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
  </section>
</main>
