  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (1.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 206669143)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 04:47:53.510735', '2018-04-13 04:47:53.510735', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (1.0ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 04:47:53.537615', '2018-04-13 04:47:53.537615', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 04:47:53.537615', '2018-04-13 04:47:53.537615', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:47:53.537615', '2018-04-13 04:47:53.537615', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:47:53.537615', '2018-04-13 04:47:53.537615', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:47:53.537615', '2018-04-13 04:47:53.537615', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 04:47:53.548041', '2018-04-13 04:47:53.548041', 373891647)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 04:47:53.548041', '2018-04-13 04:47:53.548041', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 04:47:53.548041', '2018-04-13 04:47:53.548041', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 04:47:53.548041', '2018-04-13 04:47:53.548041', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 04:47:53.548041', '2018-04-13 04:47:53.548041', 1019702018)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Vote: test_0001_must be valid
-----------------------------
  [1m[36mVote Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "votes" WHERE "votes"."user_id" IS NULL AND "votes"."work_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 206669143)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 576709754)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 1010528733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 188498254)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 305467638)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 624042081)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 898448884)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 04:50:23.894781', '2018-04-13 04:50:23.894781', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 04:50:23.907888', '2018-04-13 04:50:23.907888', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 04:50:23.907888', '2018-04-13 04:50:23.907888', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:50:23.907888', '2018-04-13 04:50:23.907888', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:50:23.907888', '2018-04-13 04:50:23.907888', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:50:23.907888', '2018-04-13 04:50:23.907888', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 04:50:23.920429', '2018-04-13 04:50:23.920429', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 04:50:23.920429', '2018-04-13 04:50:23.920429', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 04:50:23.920429', '2018-04-13 04:50:23.920429', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 04:50:23.920429', '2018-04-13 04:50:23.920429', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 04:50:23.920429', '2018-04-13 04:50:23.920429', 1019702018)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Vote: test_0001_must be valid
-----------------------------
  [1m[36mVote Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "votes" WHERE "votes"."user_id" IS NULL AND "votes"."work_id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
User: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 206669143)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 04:51:32.416358', '2018-04-13 04:51:32.416358', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 04:51:32.427420', '2018-04-13 04:51:32.427420', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 04:51:32.427420', '2018-04-13 04:51:32.427420', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:51:32.427420', '2018-04-13 04:51:32.427420', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:51:32.427420', '2018-04-13 04:51:32.427420', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:51:32.427420', '2018-04-13 04:51:32.427420', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 04:51:32.433895', '2018-04-13 04:51:32.433895', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 04:51:32.433895', '2018-04-13 04:51:32.433895', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 04:51:32.433895', '2018-04-13 04:51:32.433895', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 04:51:32.433895', '2018-04-13 04:51:32.433895', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 04:51:32.433895', '2018-04-13 04:51:32.433895', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 206669143)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 04:52:07.652967', '2018-04-13 04:52:07.652967', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 04:52:07.663608', '2018-04-13 04:52:07.663608', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 04:52:07.663608', '2018-04-13 04:52:07.663608', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:52:07.663608', '2018-04-13 04:52:07.663608', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:52:07.663608', '2018-04-13 04:52:07.663608', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:52:07.663608', '2018-04-13 04:52:07.663608', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 04:52:07.669672', '2018-04-13 04:52:07.669672', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 04:52:07.669672', '2018-04-13 04:52:07.669672', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 04:52:07.669672', '2018-04-13 04:52:07.669672', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 04:52:07.669672', '2018-04-13 04:52:07.669672', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 04:52:07.669672', '2018-04-13 04:52:07.669672', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 04:53:11.754407', '2018-04-13 04:53:11.754407', 42601833)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 04:53:11.766007', '2018-04-13 04:53:11.766007', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 04:53:11.766007', '2018-04-13 04:53:11.766007', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:53:11.766007', '2018-04-13 04:53:11.766007', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:53:11.766007', '2018-04-13 04:53:11.766007', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:53:11.766007', '2018-04-13 04:53:11.766007', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 04:53:11.773770', '2018-04-13 04:53:11.773770', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 04:53:11.773770', '2018-04-13 04:53:11.773770', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 04:53:11.773770', '2018-04-13 04:53:11.773770', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 04:53:11.773770', '2018-04-13 04:53:11.773770', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 04:53:11.773770', '2018-04-13 04:53:11.773770', 1019702018)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 04:57:33.573305', '2018-04-13 04:57:33.573305', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 04:57:33.583774', '2018-04-13 04:57:33.583774', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 04:57:33.583774', '2018-04-13 04:57:33.583774', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:57:33.583774', '2018-04-13 04:57:33.583774', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:57:33.583774', '2018-04-13 04:57:33.583774', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:57:33.583774', '2018-04-13 04:57:33.583774', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 04:57:33.592377', '2018-04-13 04:57:33.592377', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 04:57:33.592377', '2018-04-13 04:57:33.592377', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 04:57:33.592377', '2018-04-13 04:57:33.592377', 315165233)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 04:57:33.592377', '2018-04-13 04:57:33.592377', 197155733)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 04:57:33.592377', '2018-04-13 04:57:33.592377', 1019702018)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 04:58:23.544904', '2018-04-13 04:58:23.544904', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 04:58:23.554543', '2018-04-13 04:58:23.554543', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 04:58:23.554543', '2018-04-13 04:58:23.554543', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:58:23.554543', '2018-04-13 04:58:23.554543', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:58:23.554543', '2018-04-13 04:58:23.554543', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:58:23.554543', '2018-04-13 04:58:23.554543', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 04:58:23.562211', '2018-04-13 04:58:23.562211', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 04:58:23.562211', '2018-04-13 04:58:23.562211', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 04:58:23.562211', '2018-04-13 04:58:23.562211', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 04:58:23.562211', '2018-04-13 04:58:23.562211', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 04:58:23.562211', '2018-04-13 04:58:23.562211', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 04:59:25.570302', '2018-04-13 04:59:25.570302', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 04:59:25.580021', '2018-04-13 04:59:25.580021', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 04:59:25.580021', '2018-04-13 04:59:25.580021', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:59:25.580021', '2018-04-13 04:59:25.580021', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:59:25.580021', '2018-04-13 04:59:25.580021', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 04:59:25.580021', '2018-04-13 04:59:25.580021', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 04:59:25.588171', '2018-04-13 04:59:25.588171', 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 04:59:25.588171', '2018-04-13 04:59:25.588171', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 04:59:25.588171', '2018-04-13 04:59:25.588171', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 04:59:25.588171', '2018-04-13 04:59:25.588171', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 04:59:25.588171', '2018-04-13 04:59:25.588171', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 206669143)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:02:34.994951', '2018-04-13 05:02:34.994951', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:02:35.006009', '2018-04-13 05:02:35.006009', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:02:35.006009', '2018-04-13 05:02:35.006009', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:02:35.006009', '2018-04-13 05:02:35.006009', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:02:35.006009', '2018-04-13 05:02:35.006009', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:02:35.006009', '2018-04-13 05:02:35.006009', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:02:35.012949', '2018-04-13 05:02:35.012949', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:02:35.012949', '2018-04-13 05:02:35.012949', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:02:35.012949', '2018-04-13 05:02:35.012949', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:02:35.012949', '2018-04-13 05:02:35.012949', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:02:35.012949', '2018-04-13 05:02:35.012949', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:03:20.773322', '2018-04-13 05:03:20.773322', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:03:20.783820', '2018-04-13 05:03:20.783820', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:03:20.783820', '2018-04-13 05:03:20.783820', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:03:20.783820', '2018-04-13 05:03:20.783820', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:03:20.783820', '2018-04-13 05:03:20.783820', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:03:20.783820', '2018-04-13 05:03:20.783820', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:03:20.797565', '2018-04-13 05:03:20.797565', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:03:20.797565', '2018-04-13 05:03:20.797565', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:03:20.797565', '2018-04-13 05:03:20.797565', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:03:20.797565', '2018-04-13 05:03:20.797565', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:03:20.797565', '2018-04-13 05:03:20.797565', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 898448884)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:03:44.597133', '2018-04-13 05:03:44.597133', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:03:44.605920', '2018-04-13 05:03:44.605920', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:03:44.605920', '2018-04-13 05:03:44.605920', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:03:44.605920', '2018-04-13 05:03:44.605920', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:03:44.605920', '2018-04-13 05:03:44.605920', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:03:44.605920', '2018-04-13 05:03:44.605920', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:03:44.613941', '2018-04-13 05:03:44.613941', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:03:44.613941', '2018-04-13 05:03:44.613941', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:03:44.613941', '2018-04-13 05:03:44.613941', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:03:44.613941', '2018-04-13 05:03:44.613941', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:03:44.613941', '2018-04-13 05:03:44.613941', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:05:13.774943', '2018-04-13 05:05:13.774943', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:05:13.784443', '2018-04-13 05:05:13.784443', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:05:13.784443', '2018-04-13 05:05:13.784443', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:05:13.784443', '2018-04-13 05:05:13.784443', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:05:13.784443', '2018-04-13 05:05:13.784443', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:05:13.784443', '2018-04-13 05:05:13.784443', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:05:13.792070', '2018-04-13 05:05:13.792070', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:05:13.792070', '2018-04-13 05:05:13.792070', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:05:13.792070', '2018-04-13 05:05:13.792070', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:05:13.792070', '2018-04-13 05:05:13.792070', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:05:13.792070', '2018-04-13 05:05:13.792070', 1019702018)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:06:46.816182', '2018-04-13 05:06:46.816182', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:06:46.825979', '2018-04-13 05:06:46.825979', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:06:46.825979', '2018-04-13 05:06:46.825979', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:06:46.825979', '2018-04-13 05:06:46.825979', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:06:46.825979', '2018-04-13 05:06:46.825979', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:06:46.825979', '2018-04-13 05:06:46.825979', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:06:46.833229', '2018-04-13 05:06:46.833229', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:06:46.833229', '2018-04-13 05:06:46.833229', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:06:46.833229', '2018-04-13 05:06:46.833229', 315165233)[0m
  [1m[36mFixture Insert (1.5ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:06:46.833229', '2018-04-13 05:06:46.833229', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:06:46.833229', '2018-04-13 05:06:46.833229', 1019702018)[0m
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_requires a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:07:09.871696', '2018-04-13 05:07:09.871696', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:07:09.881217', '2018-04-13 05:07:09.881217', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:07:09.881217', '2018-04-13 05:07:09.881217', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:07:09.881217', '2018-04-13 05:07:09.881217', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:07:09.881217', '2018-04-13 05:07:09.881217', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (1.4ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:07:09.881217', '2018-04-13 05:07:09.881217', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:07:09.890330', '2018-04-13 05:07:09.890330', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:07:09.890330', '2018-04-13 05:07:09.890330', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:07:09.890330', '2018-04-13 05:07:09.890330', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:07:09.890330', '2018-04-13 05:07:09.890330', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:07:09.890330', '2018-04-13 05:07:09.890330', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0002_requires a category
-----------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:08:05.973391', '2018-04-13 05:08:05.973391', 42601833)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:08:05.982003', '2018-04-13 05:08:05.982003', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:08:05.982003', '2018-04-13 05:08:05.982003', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:08:05.982003', '2018-04-13 05:08:05.982003', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:08:05.982003', '2018-04-13 05:08:05.982003', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:08:05.982003', '2018-04-13 05:08:05.982003', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:08:05.989943', '2018-04-13 05:08:05.989943', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:08:05.989943', '2018-04-13 05:08:05.989943', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:08:05.989943', '2018-04-13 05:08:05.989943', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:08:05.989943', '2018-04-13 05:08:05.989943', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:08:05.989943', '2018-04-13 05:08:05.989943', 1019702018)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0002_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:08:28.483898', '2018-04-13 05:08:28.483898', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:08:28.494650', '2018-04-13 05:08:28.494650', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:08:28.494650', '2018-04-13 05:08:28.494650', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:08:28.494650', '2018-04-13 05:08:28.494650', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:08:28.494650', '2018-04-13 05:08:28.494650', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:08:28.494650', '2018-04-13 05:08:28.494650', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:08:28.501756', '2018-04-13 05:08:28.501756', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:08:28.501756', '2018-04-13 05:08:28.501756', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:08:28.501756', '2018-04-13 05:08:28.501756', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:08:28.501756', '2018-04-13 05:08:28.501756', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:08:28.501756', '2018-04-13 05:08:28.501756', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0002_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 576709754)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 624042081)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 898448884)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:11:16.087675', '2018-04-13 05:11:16.087675', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:11:16.099453', '2018-04-13 05:11:16.099453', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:11:16.099453', '2018-04-13 05:11:16.099453', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:11:16.099453', '2018-04-13 05:11:16.099453', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:11:16.099453', '2018-04-13 05:11:16.099453', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:11:16.099453', '2018-04-13 05:11:16.099453', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:11:16.110875', '2018-04-13 05:11:16.110875', 373891647)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:11:16.110875', '2018-04-13 05:11:16.110875', 681446112)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:11:16.110875', '2018-04-13 05:11:16.110875', 315165233)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:11:16.110875', '2018-04-13 05:11:16.110875', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:11:16.110875', '2018-04-13 05:11:16.110875', 1019702018)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 206669143)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 898448884)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:31:57.859562', '2018-04-13 05:31:57.859562', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:31:57.873901', '2018-04-13 05:31:57.873901', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:31:57.873901', '2018-04-13 05:31:57.873901', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:31:57.873901', '2018-04-13 05:31:57.873901', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:31:57.873901', '2018-04-13 05:31:57.873901', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:31:57.873901', '2018-04-13 05:31:57.873901', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:31:57.882239', '2018-04-13 05:31:57.882239', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:31:57.882239', '2018-04-13 05:31:57.882239', 681446112)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:31:57.882239', '2018-04-13 05:31:57.882239', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:31:57.882239', '2018-04-13 05:31:57.882239', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:31:57.882239', '2018-04-13 05:31:57.882239', 1019702018)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:37:37.408526', '2018-04-13 05:37:37.408526', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:37:37.418701', '2018-04-13 05:37:37.418701', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:37:37.418701', '2018-04-13 05:37:37.418701', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:37:37.418701', '2018-04-13 05:37:37.418701', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:37:37.418701', '2018-04-13 05:37:37.418701', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:37:37.418701', '2018-04-13 05:37:37.418701', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:37:37.427596', '2018-04-13 05:37:37.427596', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:37:37.427596', '2018-04-13 05:37:37.427596', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:37:37.427596', '2018-04-13 05:37:37.427596', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:37:37.427596', '2018-04-13 05:37:37.427596', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:37:37.427596', '2018-04-13 05:37:37.427596', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:38:35.060190', '2018-04-13 05:38:35.060190', 42601833)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:38:35.069441', '2018-04-13 05:38:35.069441', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:38:35.069441', '2018-04-13 05:38:35.069441', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:38:35.069441', '2018-04-13 05:38:35.069441', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:38:35.069441', '2018-04-13 05:38:35.069441', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:38:35.069441', '2018-04-13 05:38:35.069441', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:38:35.077591', '2018-04-13 05:38:35.077591', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:38:35.077591', '2018-04-13 05:38:35.077591', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:38:35.077591', '2018-04-13 05:38:35.077591', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:38:35.077591', '2018-04-13 05:38:35.077591', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:38:35.077591', '2018-04-13 05:38:35.077591', 1019702018)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:39:24.594024', '2018-04-13 05:39:24.594024', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:39:24.604986', '2018-04-13 05:39:24.604986', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:39:24.604986', '2018-04-13 05:39:24.604986', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:39:24.604986', '2018-04-13 05:39:24.604986', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:39:24.604986', '2018-04-13 05:39:24.604986', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:39:24.604986', '2018-04-13 05:39:24.604986', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:39:24.612228', '2018-04-13 05:39:24.612228', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:39:24.612228', '2018-04-13 05:39:24.612228', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:39:24.612228', '2018-04-13 05:39:24.612228', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:39:24.612228', '2018-04-13 05:39:24.612228', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:39:24.612228', '2018-04-13 05:39:24.612228', 1019702018)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:39:57.517586', '2018-04-13 05:39:57.517586', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:39:57.528875', '2018-04-13 05:39:57.528875', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:39:57.528875', '2018-04-13 05:39:57.528875', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:39:57.528875', '2018-04-13 05:39:57.528875', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:39:57.528875', '2018-04-13 05:39:57.528875', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:39:57.528875', '2018-04-13 05:39:57.528875', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:39:57.536161', '2018-04-13 05:39:57.536161', 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:39:57.536161', '2018-04-13 05:39:57.536161', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:39:57.536161', '2018-04-13 05:39:57.536161', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:39:57.536161', '2018-04-13 05:39:57.536161', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:39:57.536161', '2018-04-13 05:39:57.536161', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 206669143)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 576709754)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:40:57.317605', '2018-04-13 05:40:57.317605', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:40:57.327426', '2018-04-13 05:40:57.327426', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:40:57.327426', '2018-04-13 05:40:57.327426', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:40:57.327426', '2018-04-13 05:40:57.327426', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:40:57.327426', '2018-04-13 05:40:57.327426', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:40:57.327426', '2018-04-13 05:40:57.327426', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:40:57.334719', '2018-04-13 05:40:57.334719', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:40:57.334719', '2018-04-13 05:40:57.334719', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:40:57.334719', '2018-04-13 05:40:57.334719', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:40:57.334719', '2018-04-13 05:40:57.334719', 197155733)[0m
  [1m[36mFixture Insert (1.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:40:57.334719', '2018-04-13 05:40:57.334719', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:42:50.337074', '2018-04-13 05:42:50.337074', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:42:50.347241', '2018-04-13 05:42:50.347241', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:42:50.347241', '2018-04-13 05:42:50.347241', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:42:50.347241', '2018-04-13 05:42:50.347241', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:42:50.347241', '2018-04-13 05:42:50.347241', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:42:50.347241', '2018-04-13 05:42:50.347241', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:42:50.354504', '2018-04-13 05:42:50.354504', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:42:50.354504', '2018-04-13 05:42:50.354504', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:42:50.354504', '2018-04-13 05:42:50.354504', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:42:50.354504', '2018-04-13 05:42:50.354504', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:42:50.354504', '2018-04-13 05:42:50.354504', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 305467638)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:43:12.791226', '2018-04-13 05:43:12.791226', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:43:12.801790', '2018-04-13 05:43:12.801790', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:43:12.801790', '2018-04-13 05:43:12.801790', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:43:12.801790', '2018-04-13 05:43:12.801790', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:43:12.801790', '2018-04-13 05:43:12.801790', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:43:12.801790', '2018-04-13 05:43:12.801790', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:43:12.807433', '2018-04-13 05:43:12.807433', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:43:12.807433', '2018-04-13 05:43:12.807433', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:43:12.807433', '2018-04-13 05:43:12.807433', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:43:12.807433', '2018-04-13 05:43:12.807433', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:43:12.807433', '2018-04-13 05:43:12.807433', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:43:38.830732', '2018-04-13 05:43:38.830732', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:43:38.841417', '2018-04-13 05:43:38.841417', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:43:38.841417', '2018-04-13 05:43:38.841417', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:43:38.841417', '2018-04-13 05:43:38.841417', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:43:38.841417', '2018-04-13 05:43:38.841417', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:43:38.841417', '2018-04-13 05:43:38.841417', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (1.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (1.9ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:43:38.847917', '2018-04-13 05:43:38.847917', 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:43:38.847917', '2018-04-13 05:43:38.847917', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:43:38.847917', '2018-04-13 05:43:38.847917', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:43:38.847917', '2018-04-13 05:43:38.847917', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:43:38.847917', '2018-04-13 05:43:38.847917', 1019702018)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:44:39.582875', '2018-04-13 05:44:39.582875', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:44:39.593998', '2018-04-13 05:44:39.593998', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:44:39.593998', '2018-04-13 05:44:39.593998', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:44:39.593998', '2018-04-13 05:44:39.593998', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:44:39.593998', '2018-04-13 05:44:39.593998', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:44:39.593998', '2018-04-13 05:44:39.593998', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:44:39.600334', '2018-04-13 05:44:39.600334', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:44:39.600334', '2018-04-13 05:44:39.600334', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:44:39.600334', '2018-04-13 05:44:39.600334', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:44:39.600334', '2018-04-13 05:44:39.600334', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:44:39.600334', '2018-04-13 05:44:39.600334', 1019702018)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:45:18.381172', '2018-04-13 05:45:18.381172', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:45:18.391244', '2018-04-13 05:45:18.391244', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:45:18.391244', '2018-04-13 05:45:18.391244', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:45:18.391244', '2018-04-13 05:45:18.391244', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:45:18.391244', '2018-04-13 05:45:18.391244', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:45:18.391244', '2018-04-13 05:45:18.391244', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:45:18.398469', '2018-04-13 05:45:18.398469', 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:45:18.398469', '2018-04-13 05:45:18.398469', 681446112)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:45:18.398469', '2018-04-13 05:45:18.398469', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:45:18.398469', '2018-04-13 05:45:18.398469', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:45:18.398469', '2018-04-13 05:45:18.398469', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 206669143)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 358143215)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 576709754)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 1010528733)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 188498254)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 305467638)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 624042081)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 898448884)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:45:52.750125', '2018-04-13 05:45:52.750125', 42601833)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:45:52.776080', '2018-04-13 05:45:52.776080', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:45:52.776080', '2018-04-13 05:45:52.776080', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:45:52.776080', '2018-04-13 05:45:52.776080', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:45:52.776080', '2018-04-13 05:45:52.776080', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:45:52.776080', '2018-04-13 05:45:52.776080', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:45:52.792126', '2018-04-13 05:45:52.792126', 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:45:52.792126', '2018-04-13 05:45:52.792126', 681446112)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:45:52.792126', '2018-04-13 05:45:52.792126', 315165233)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:45:52.792126', '2018-04-13 05:45:52.792126', 197155733)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:45:52.792126', '2018-04-13 05:45:52.792126', 1019702018)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 206669143)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 358143215)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 576709754)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 1010528733)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 188498254)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 305467638)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 624042081)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 898448884)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 05:46:18.968840', '2018-04-13 05:46:18.968840', 42601833)[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 05:46:18.998184', '2018-04-13 05:46:18.998184', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 05:46:18.998184', '2018-04-13 05:46:18.998184', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:46:18.998184', '2018-04-13 05:46:18.998184', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.7ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:46:18.998184', '2018-04-13 05:46:18.998184', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 05:46:18.998184', '2018-04-13 05:46:18.998184', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 05:46:19.014703', '2018-04-13 05:46:19.014703', 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 05:46:19.014703', '2018-04-13 05:46:19.014703', 681446112)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 05:46:19.014703', '2018-04-13 05:46:19.014703', 315165233)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 05:46:19.014703', '2018-04-13 05:46:19.014703', 197155733)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 05:46:19.014703', '2018-04-13 05:46:19.014703', 1019702018)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.9ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 206669143)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 576709754)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 1010528733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 188498254)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 21:33:44.860576', '2018-04-13 21:33:44.860576', 42601833)[0m
  [1m[36mFixture Delete (3.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.6ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 21:33:44.880254', '2018-04-13 21:33:44.880254', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 21:33:44.880254', '2018-04-13 21:33:44.880254', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 21:33:44.880254', '2018-04-13 21:33:44.880254', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 21:33:44.880254', '2018-04-13 21:33:44.880254', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 21:33:44.880254', '2018-04-13 21:33:44.880254', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 21:33:44.896641', '2018-04-13 21:33:44.896641', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 21:33:44.896641', '2018-04-13 21:33:44.896641', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 21:33:44.896641', '2018-04-13 21:33:44.896641', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 21:33:44.896641', '2018-04-13 21:33:44.896641', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 21:33:44.896641', '2018-04-13 21:33:44.896641', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------
UsersController: test_0001_should get index
-------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
UsersController: test_0002_should get show
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
WorksController: test_0003_should get create
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
WorksController: test_0005_should get edit
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
WorksController: test_0006_should get update
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-------------------------------------------------------------------------------------
WorksController: test_0001_should get index and return a success status for all works
-------------------------------------------------------------------------------------
Started GET "/works" for 127.0.0.1 at 2018-04-13 14:33:45 -0700
Processing by WorksController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  Rendering works/index.html.erb within layouts/application
  [1m[36mWork Load (0.5ms)[0m  [1m[34mSELECT "works".* FROM "works"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."work_id" = $1[0m  [["work_id", 373891647]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."work_id" = $1[0m  [["work_id", 681446112]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."work_id" = $1[0m  [["work_id", 315165233]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."work_id" = $1[0m  [["work_id", 197155733]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."work_id" = $1[0m  [["work_id", 1019702018]]
  Rendered works/index.html.erb within layouts/application (26.7ms)
Completed 200 OK in 7437ms (Views: 7426.2ms | ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------
WorksController: test_0007_should get destroy
---------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------
WorksController: test_0002_should get new
-----------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
WorksController: test_0004_should get show
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
SessionsController: test_0002_should get new
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------
SessionsController: test_0001_should get create
-----------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------
SessionsController: test_0003_should get destroy
------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------
MainController: test_0001_should get index
------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------
VotesController: test_0001_should get create
--------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-11', '2018-04-13 21:34:08.185140', '2018-04-13 21:34:08.185140', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 21:34:08.194804', '2018-04-13 21:34:08.194804', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 21:34:08.194804', '2018-04-13 21:34:08.194804', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 21:34:08.194804', '2018-04-13 21:34:08.194804', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 21:34:08.194804', '2018-04-13 21:34:08.194804', 959688446, 1010528733, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 21:34:08.194804', '2018-04-13 21:34:08.194804', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 21:34:08.203491', '2018-04-13 21:34:08.203491', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 21:34:08.203491', '2018-04-13 21:34:08.203491', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 21:34:08.203491', '2018-04-13 21:34:08.203491', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 21:34:08.203491', '2018-04-13 21:34:08.203491', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 21:34:08.203491', '2018-04-13 21:34:08.203491', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (1.6ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username1', '2018-03-11', '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 206669143)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username2', '2018-01-14', '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username3', '2018-01-14', '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username4', '2018-02-14', '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username5', '2018-02-08', '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username6', '2018-04-08', '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username7', '2018-01-08', '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 898448884)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', NULL, '2018-04-13 22:53:15.689100', '2018-04-13 22:53:15.689100', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.5ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 22:53:15.706875', '2018-04-13 22:53:15.706875', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 22:53:15.706875', '2018-04-13 22:53:15.706875', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:53:15.706875', '2018-04-13 22:53:15.706875', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:53:15.706875', '2018-04-13 22:53:15.706875', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:53:15.706875', '2018-04-13 22:53:15.706875', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (1.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 22:53:15.715702', '2018-04-13 22:53:15.715702', 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 22:53:15.715702', '2018-04-13 22:53:15.715702', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 22:53:15.715702', '2018-04-13 22:53:15.715702', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 22:53:15.715702', '2018-04-13 22:53:15.715702', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 22:53:15.715702', '2018-04-13 22:53:15.715702', 1019702018)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::total_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::total_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 1010528733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 188498254)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 305467638)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 22:56:38.830139', '2018-04-13 22:56:38.830139', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 22:56:38.841437', '2018-04-13 22:56:38.841437', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 22:56:38.841437', '2018-04-13 22:56:38.841437', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:56:38.841437', '2018-04-13 22:56:38.841437', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:56:38.841437', '2018-04-13 22:56:38.841437', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:56:38.841437', '2018-04-13 22:56:38.841437', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 22:56:38.848205', '2018-04-13 22:56:38.848205', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 22:56:38.848205', '2018-04-13 22:56:38.848205', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 22:56:38.848205', '2018-04-13 22:56:38.848205', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 22:56:38.848205', '2018-04-13 22:56:38.848205', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 22:56:38.848205', '2018-04-13 22:56:38.848205', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::total_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::total_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 22:59:25.643948', '2018-04-13 22:59:25.643948', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 22:59:25.654404', '2018-04-13 22:59:25.654404', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 22:59:25.654404', '2018-04-13 22:59:25.654404', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:59:25.654404', '2018-04-13 22:59:25.654404', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:59:25.654404', '2018-04-13 22:59:25.654404', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 22:59:25.654404', '2018-04-13 22:59:25.654404', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 22:59:25.660565', '2018-04-13 22:59:25.660565', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 22:59:25.660565', '2018-04-13 22:59:25.660565', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 22:59:25.660565', '2018-04-13 22:59:25.660565', 315165233)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 22:59:25.660565', '2018-04-13 22:59:25.660565', 197155733)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 22:59:25.660565', '2018-04-13 22:59:25.660565', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::total_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::total_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 358143215)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 1010528733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:01:06.405190', '2018-04-13 23:01:06.405190', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:01:06.416156', '2018-04-13 23:01:06.416156', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:01:06.416156', '2018-04-13 23:01:06.416156', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:01:06.416156', '2018-04-13 23:01:06.416156', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:01:06.416156', '2018-04-13 23:01:06.416156', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:01:06.416156', '2018-04-13 23:01:06.416156', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:01:06.423092', '2018-04-13 23:01:06.423092', 373891647)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:01:06.423092', '2018-04-13 23:01:06.423092', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:01:06.423092', '2018-04-13 23:01:06.423092', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:01:06.423092', '2018-04-13 23:01:06.423092', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:01:06.423092', '2018-04-13 23:01:06.423092', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:01:33.666089', '2018-04-13 23:01:33.666089', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:01:33.676700', '2018-04-13 23:01:33.676700', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:01:33.676700', '2018-04-13 23:01:33.676700', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:01:33.676700', '2018-04-13 23:01:33.676700', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:01:33.676700', '2018-04-13 23:01:33.676700', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:01:33.676700', '2018-04-13 23:01:33.676700', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.7ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:01:33.683267', '2018-04-13 23:01:33.683267', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:01:33.683267', '2018-04-13 23:01:33.683267', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:01:33.683267', '2018-04-13 23:01:33.683267', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:01:33.683267', '2018-04-13 23:01:33.683267', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:01:33.683267', '2018-04-13 23:01:33.683267', 1019702018)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.4ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:27:58.276710', '2018-04-13 23:27:58.276710', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:27:58.287945', '2018-04-13 23:27:58.287945', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:27:58.287945', '2018-04-13 23:27:58.287945', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:27:58.287945', '2018-04-13 23:27:58.287945', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:27:58.287945', '2018-04-13 23:27:58.287945', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:27:58.287945', '2018-04-13 23:27:58.287945', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:27:58.295427', '2018-04-13 23:27:58.295427', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:27:58.295427', '2018-04-13 23:27:58.295427', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:27:58.295427', '2018-04-13 23:27:58.295427', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:27:58.295427', '2018-04-13 23:27:58.295427', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:27:58.295427', '2018-04-13 23:27:58.295427', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:28:56.784770', '2018-04-13 23:28:56.784770', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:28:56.794724', '2018-04-13 23:28:56.794724', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:28:56.794724', '2018-04-13 23:28:56.794724', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:28:56.794724', '2018-04-13 23:28:56.794724', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:28:56.794724', '2018-04-13 23:28:56.794724', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:28:56.794724', '2018-04-13 23:28:56.794724', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:28:56.801117', '2018-04-13 23:28:56.801117', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:28:56.801117', '2018-04-13 23:28:56.801117', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:28:56.801117', '2018-04-13 23:28:56.801117', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:28:56.801117', '2018-04-13 23:28:56.801117', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:28:56.801117', '2018-04-13 23:28:56.801117', 1019702018)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 358143215)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 576709754)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 1010528733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 188498254)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 305467638)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 624042081)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 898448884)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:31:30.553147', '2018-04-13 23:31:30.553147', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:31:30.564476', '2018-04-13 23:31:30.564476', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:31:30.564476', '2018-04-13 23:31:30.564476', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:31:30.564476', '2018-04-13 23:31:30.564476', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:31:30.564476', '2018-04-13 23:31:30.564476', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:31:30.564476', '2018-04-13 23:31:30.564476', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:31:30.571583', '2018-04-13 23:31:30.571583', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:31:30.571583', '2018-04-13 23:31:30.571583', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:31:30.571583', '2018-04-13 23:31:30.571583', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:31:30.571583', '2018-04-13 23:31:30.571583', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:31:30.571583', '2018-04-13 23:31:30.571583', 1019702018)[0m
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.4ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:38:03.700907', '2018-04-13 23:38:03.700907', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:38:03.710263', '2018-04-13 23:38:03.710263', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:38:03.710263', '2018-04-13 23:38:03.710263', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:38:03.710263', '2018-04-13 23:38:03.710263', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:38:03.710263', '2018-04-13 23:38:03.710263', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:38:03.710263', '2018-04-13 23:38:03.710263', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:38:03.717811', '2018-04-13 23:38:03.717811', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:38:03.717811', '2018-04-13 23:38:03.717811', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:38:03.717811', '2018-04-13 23:38:03.717811', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:38:03.717811', '2018-04-13 23:38:03.717811', 197155733)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:38:03.717811', '2018-04-13 23:38:03.717811', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 898448884)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:40:22.947539', '2018-04-13 23:40:22.947539', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:40:22.957375', '2018-04-13 23:40:22.957375', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:40:22.957375', '2018-04-13 23:40:22.957375', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:40:22.957375', '2018-04-13 23:40:22.957375', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:40:22.957375', '2018-04-13 23:40:22.957375', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:40:22.957375', '2018-04-13 23:40:22.957375', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:40:22.963951', '2018-04-13 23:40:22.963951', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:40:22.963951', '2018-04-13 23:40:22.963951', 681446112)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:40:22.963951', '2018-04-13 23:40:22.963951', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:40:22.963951', '2018-04-13 23:40:22.963951', 197155733)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:40:22.963951', '2018-04-13 23:40:22.963951', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:44:12.036229', '2018-04-13 23:44:12.036229', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:44:12.046238', '2018-04-13 23:44:12.046238', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:44:12.046238', '2018-04-13 23:44:12.046238', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:44:12.046238', '2018-04-13 23:44:12.046238', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:44:12.046238', '2018-04-13 23:44:12.046238', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:44:12.046238', '2018-04-13 23:44:12.046238', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:44:12.054879', '2018-04-13 23:44:12.054879', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:44:12.054879', '2018-04-13 23:44:12.054879', 681446112)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:44:12.054879', '2018-04-13 23:44:12.054879', 315165233)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:44:12.054879', '2018-04-13 23:44:12.054879', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:44:12.054879', '2018-04-13 23:44:12.054879', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:45:33.788703', '2018-04-13 23:45:33.788703', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:45:33.799244', '2018-04-13 23:45:33.799244', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:45:33.799244', '2018-04-13 23:45:33.799244', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:45:33.799244', '2018-04-13 23:45:33.799244', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:45:33.799244', '2018-04-13 23:45:33.799244', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:45:33.799244', '2018-04-13 23:45:33.799244', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:45:33.806462', '2018-04-13 23:45:33.806462', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:45:33.806462', '2018-04-13 23:45:33.806462', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:45:33.806462', '2018-04-13 23:45:33.806462', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:45:33.806462', '2018-04-13 23:45:33.806462', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:45:33.806462', '2018-04-13 23:45:33.806462', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL AND ("users"."id" != $1) LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", ""], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "    "], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "user1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "user1"], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:53:51.846444', '2018-04-13 23:53:51.846444', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:53:51.856699', '2018-04-13 23:53:51.856699', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:53:51.856699', '2018-04-13 23:53:51.856699', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:53:51.856699', '2018-04-13 23:53:51.856699', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:53:51.856699', '2018-04-13 23:53:51.856699', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (1.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:53:51.856699', '2018-04-13 23:53:51.856699', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:53:51.867172', '2018-04-13 23:53:51.867172', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:53:51.867172', '2018-04-13 23:53:51.867172', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:53:51.867172', '2018-04-13 23:53:51.867172', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:53:51.867172', '2018-04-13 23:53:51.867172', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:53:51.867172', '2018-04-13 23:53:51.867172', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "user1"], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL AND ("users"."id" != $1) LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "user1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "    "], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", ""], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."id" = $1[0m  [["id", 156850806]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:55:19.726506', '2018-04-13 23:55:19.726506', 42601833)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:55:19.735433', '2018-04-13 23:55:19.735433', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:55:19.735433', '2018-04-13 23:55:19.735433', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:55:19.735433', '2018-04-13 23:55:19.735433', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:55:19.735433', '2018-04-13 23:55:19.735433', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:55:19.735433', '2018-04-13 23:55:19.735433', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:55:19.743089', '2018-04-13 23:55:19.743089', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:55:19.743089', '2018-04-13 23:55:19.743089', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:55:19.743089', '2018-04-13 23:55:19.743089', 315165233)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:55:19.743089', '2018-04-13 23:55:19.743089', 197155733)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:55:19.743089', '2018-04-13 23:55:19.743089', 1019702018)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."id" = $1[0m  [["id", 156850806]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "user1"], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL AND ("users"."id" != $1) LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "    "], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "user1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", ""], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 898448884)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:56:18.601337', '2018-04-13 23:56:18.601337', 42601833)[0m
  [1m[36mFixture Delete (0.6ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:56:18.609646', '2018-04-13 23:56:18.609646', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:56:18.609646', '2018-04-13 23:56:18.609646', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:56:18.609646', '2018-04-13 23:56:18.609646', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:56:18.609646', '2018-04-13 23:56:18.609646', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:56:18.609646', '2018-04-13 23:56:18.609646', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:56:18.618040', '2018-04-13 23:56:18.618040', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:56:18.618040', '2018-04-13 23:56:18.618040', 681446112)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:56:18.618040', '2018-04-13 23:56:18.618040', 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:56:18.618040', '2018-04-13 23:56:18.618040', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:56:18.618040', '2018-04-13 23:56:18.618040', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "user1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL AND ("users"."id" != $1) LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "    "], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "user1"], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", ""], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35mSQL (0.2ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."id" = $1[0m  [["id", 156850806]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:58:23.018881', '2018-04-13 23:58:23.018881', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:58:23.028631', '2018-04-13 23:58:23.028631', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:58:23.028631', '2018-04-13 23:58:23.028631', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:58:23.028631', '2018-04-13 23:58:23.028631', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:58:23.028631', '2018-04-13 23:58:23.028631', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:58:23.028631', '2018-04-13 23:58:23.028631', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:58:23.035202', '2018-04-13 23:58:23.035202', 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:58:23.035202', '2018-04-13 23:58:23.035202', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:58:23.035202', '2018-04-13 23:58:23.035202', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:58:23.035202', '2018-04-13 23:58:23.035202', 197155733)[0m
  [1m[36mFixture Insert (0.4ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:58:23.035202', '2018-04-13 23:58:23.035202', 1019702018)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "    "], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL AND ("users"."id" != $1) LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "user1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", ""], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "user1"], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."id" = $1[0m  [["id", 156850806]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 206669143)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 1010528733)[0m
  [1m[36mFixture Insert (1.4ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 188498254)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 305467638)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 624042081)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-13 23:58:56.253012', '2018-04-13 23:58:56.253012', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-13 23:58:56.271929', '2018-04-13 23:58:56.271929', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-13 23:58:56.271929', '2018-04-13 23:58:56.271929', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:58:56.271929', '2018-04-13 23:58:56.271929', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:58:56.271929', '2018-04-13 23:58:56.271929', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-13 23:58:56.271929', '2018-04-13 23:58:56.271929', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.4ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-13 23:58:56.280578', '2018-04-13 23:58:56.280578', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-13 23:58:56.280578', '2018-04-13 23:58:56.280578', 681446112)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-13 23:58:56.280578', '2018-04-13 23:58:56.280578', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-13 23:58:56.280578', '2018-04-13 23:58:56.280578', 197155733)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-13 23:58:56.280578', '2018-04-13 23:58:56.280578', 1019702018)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", ""], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL AND ("users"."id" != $1) LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "user1"], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "    "], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "user1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."id" = $1[0m  [["id", 156850806]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "works" DISABLE TRIGGER ALL;ALTER TABLE "votes" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFixture Delete (0.2ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user1', '2018-03-11', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 206669143)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user2', '2018-01-14', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 358143215)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user3', '2018-01-14', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 576709754)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user4', '2018-02-14', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 1010528733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user5', '2018-02-08', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 188498254)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user6', '2018-04-08', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 305467638)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('user7', '2018-01-08', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 624042081)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username8', '2018-03-18', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 898448884)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "users" ("username", "date_joined", "created_at", "updated_at", "id") VALUES ('username9', '2018-04-18', '2018-04-14 00:02:14.916396', '2018-04-14 00:02:14.916396', 42601833)[0m
  [1m[36mFixture Delete (0.3ms)[0m  [1m[31mDELETE FROM "votes"[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-11', '2018-04-14 00:02:14.926428', '2018-04-14 00:02:14.926428', 156850806, 206669143, 1055046044)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-12', '2018-04-14 00:02:14.926428', '2018-04-14 00:02:14.926428', 273681354, 358143215, 373891647)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-14 00:02:14.926428', '2018-04-14 00:02:14.926428', 660028255, 624042081, 581172899)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-14 00:02:14.926428', '2018-04-14 00:02:14.926428', 959688446, 358143215, 315165233)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "votes" ("date", "created_at", "updated_at", "id", "user_id", "work_id") VALUES ('2018-04-13', '2018-04-14 00:02:14.926428', '2018-04-14 00:02:14.926428', 238329453, 188498254, 933912447)[0m
  [1m[36mFixture Delete (0.5ms)[0m  [1m[31mDELETE FROM "works"[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'lifeisbeautiful', 'aruna', '2013', 'Great book', '2018-04-14 00:02:14.934225', '2018-04-14 00:02:14.934225', 373891647)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "description", "created_at", "updated_at", "id") VALUES ('album', 'liquidspirit', 'brenda', '2014', 'good book', '2018-04-14 00:02:14.934225', '2018-04-14 00:02:14.934225', 681446112)[0m
  [1m[36mFixture Insert (0.3ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book1', 'author', '1960', '2018-04-14 00:02:14.934225', '2018-04-14 00:02:14.934225', 315165233)[0m
  [1m[36mFixture Insert (0.2ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book2', 'author', '1960', '2018-04-14 00:02:14.934225', '2018-04-14 00:02:14.934225', 197155733)[0m
  [1m[36mFixture Insert (0.1ms)[0m  [1m[32mINSERT INTO "works" ("category", "title", "creator", "publication_year", "created_at", "updated_at", "id") VALUES ('book', 'book3', 'author', '1960', '2018-04-14 00:02:14.934225', '2018-04-14 00:02:14.934225', 1019702018)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "works" ENABLE TRIGGER ALL;ALTER TABLE "votes" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------
Work: test_0002_reqiures a title
--------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------
Work: test_0003_requires a category
-----------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------
Work: test_0001_must be valid
-----------------------------
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------------------
User::Methods::count_votes: test_0001_returns the right vote count
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[36mVote Load (0.3ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Methods::count_votes: test_0002_returns 0 if no vote exists
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 898448884], ["LIMIT", 1]]
  [1m[36mVote Load (0.1ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 898448884]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------
User::Relations: test_0001_can access votes through 'votes'
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 358143215], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 358143215]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------
User::Relations: test_0002_can destroy votes when destroy user
--------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVote Load (0.2ms)[0m  [1m[34mSELECT "votes".* FROM "votes" WHERE "votes"."user_id" = $1[0m  [["user_id", 206669143]]
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "votes" WHERE "votes"."id" = $1[0m  [["id", 156850806]]
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 206669143]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
------------------------------------------------------
User::Validations: test_0002_is invalid without a name
------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" IS NULL AND ("users"."id" != $1) LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
---------------------------------------------------------------------------
User::Validations: test_0005_is invalid if length of name is smaller than 1
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", ""], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
-----------------------------------------------------------------
User::Validations: test_0001_is valid when all fields are present
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "user1"], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
----------------------------------------------------------------------------
User::Validations: test_0003_is invalid if name is a string with only spaces
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 AND ("users"."id" != $2) LIMIT $3[0m  [["username", "    "], ["id", 206669143], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
--------------------------------------------------------------------------------
User::Validations: test_0004_is invalid if an user with same name already exists
--------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 206669143], ["LIMIT", 1]]
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "user1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
